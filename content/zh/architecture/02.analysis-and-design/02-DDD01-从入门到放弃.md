---
title: "02 DDD 01 从入门到放弃"
lead: "架构设计01 分析与设计"
date: 2023-04-22T12:52:56+08:00
lastmod: 2023-04-22T12:52:56+08:00
draft: false
images: []
menu:
  architecture:
    parent: "02.analysis-and-design"
weight: 1003
toc: true
---

## 概述

道德绑架

无知既是力量

因噎废食。


## 根本问题

### 1. 不用DDD是不是可以解决问题？
就像微服务的一个最重要的问题是，可以提供服务的独立演进能力。但是基于接口的独立演进能力，因为接口的设计问题导致失去了该功能。

《企业应用架构模式》书中提到了三种主要策略：事物脚本、表模块和领域模型。

### 2. 解决的复杂度与增加的复杂度？
你可能认为：这种架构风格需要大量的额外工作，我们解决了一些问题，但同时又引入了另外的问题，并且我们需要编写更多的代码。

但无论如何，不要急于否定这种架构。在某些情况下，新政的复杂度是合理的。请记住，CQRS旨在解决数据显示复杂性问题，而不是什么绚丽的新风格以使你的简历添光加彩。

### 3. 为了保持企业的竞争力，核心域在不断的变化，怎么适应？


## 分析
### 0. 认知规律与DDD的认知需要之间的关系？
#### 1. 对业务的认识过程

#### 2. 对DDD的认知过程
开始就得用反模式：CQRS。

画一张DDD中的概念以及概念间的关系图。超级复杂的图


### 1. DDD推荐的都是反常识的。
限制实时性依赖。

### 2. 内部冲突
REST和DDD vs 应用服务的概念之间的冲突。

六边形架构中的应用层 与 CQRS中的查询模型 之间的冲突。

《实现领域驱动设计》中说《子域和限界上下文是一一对应的》而《领域驱动设计学习手册》中说每个限界上下文可以包含多个子域，这样限界上下文就是一个物理边界，而它所包含的每个子域就是一个逻辑边界。

### 1. MVP与DDD之间的关系是不是一个事物的两面？

### 2. 敏捷与DDD之间的冲突？
有限的设计与彻底分析之间的鸿沟

### 3. 什么时间开始做DDD？
项目开始做？重构时做？

## 缺点总结

### 1. 学习曲线过于陡峭
    概念多，概念的实施方式说明少
    将模型显化展示的难度高
### 2. 理论与实践脱节
    领域模型与实现模型分离，导致领域模型与实现模型不一致
    领域模型与数据库模型分离，导致领域模型与数据库模型不一致
    战术与战略设计不一致的问题
### 3. 过程管理
    任务拆分的规则与DDD中的概念之间的冲突
    敏捷过程中User Storage与DDD中的Domain的关系
    DDD中的过程管理与敏捷中的过程管理冲突
### 4. 团队的形态问题
    强调全功能团队，现实中很难实现（领域专家与团队一起进行业务分析，业务实现）
    团队扩大之后，沟通成本的指数级增长
    团队之间没有明确的边界，导致职责不清（上下文映射：共享内核）
    投入多，产出不明显。（要着手创建隔离内核并不简单，他可能需要数周的时间。）
### 5. 评判标准模糊
    无评判标准，没有可度量的标准
    统一语言的建立程度决定领域模型的好坏，但统一语言的共识很难达成
    领域模型与实现模型的一致性程度决定领域模型的好坏，但一致性很难达成


## 总结

martin在《企业应用架构模式》一书中说到的，领域模型并不一定是最好的工具。

最大化投入产出比，在有必要的地方做DDD提升价值，在没必要的地方使用事务脚本，来降低成本。

## 参考
《实现领域驱动设计》<br>
《领域驱动设计精粹》<br>
《企业应用架构模式》<br>
[领域驱动设计(DDD)靠谱吗？](https://www.zhihu.com/question/328870859)<br>
[领域驱动设计(DDD)实践价值到底几何？](https://www.zhihu.com/question/452960169)<br>
[知识树沉淀总结-领域驱动设计DDD](https://blog.csdn.net/u012605629/article/details/125246753)<br>
[《企业应用架构模式》中的组织领域逻辑策略](https://cloud.tencent.com/developer/article/2332670)<br>
[DDD领域驱动设计-充血模型、贫血领域模型](https://cloud.tencent.com/developer/article/1791287)<br>
[为什么你应该关心领域模型？](https://cloud.tencent.com/developer/article/1834785)<br>
[阿里一面：谈一下你对DDD的理解？2W字，帮你实现DDD自由](https://www.cnblogs.com/crazymakercircle/p/17130939.html)<br>
[Software Architects: Do We Need 'em?](http://www.bredemeyer.com/who.htm)<br>