---
title: "西旅集采平台迁移"
lead: "随笔"
date: 2023-04-22T12:52:56+08:00
lastmod: 2023-04-22T12:52:56+08:00
draft: true
images: []
menu:
  essay:
    parent: "essay"
weight: 4000
toc: true
---

## 1. 整体过程

不停机迁移和停机迁移两种方式。

1. 资源准备
2. 组件内容迁移
3. 数据迁移
4. 验证

## 2. 资源准备

### 2.1 服务对外暴露

两种方式：公网ip或使用域名。原先是使用公网IP

#### 2.1.1. 公网ip
需要准备两个公网ip，一个用于官网网页的公网ip

#### 2.1.2 域名
准备两个二级域名类似于上面的用途。

### 2.2 准备云主机
申请7台4G

## 3. 组件内容迁移

### 3.1 nginx资源迁移
官网静态资源

### 3.2 tomcat资源迁移
运行时代码迁移

### 3.3 zookeeper资源迁移
zookeeper资源迁移与修改配置

## 4. 数据迁移
数据迁移的方式，使用华为云进行的数据库服务进行服务，使用自建mysql服务进行服务。

### 4.1 自建mysql服务
可以使用master/slave方式进行数据同步

### 
